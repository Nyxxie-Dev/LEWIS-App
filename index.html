<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LEWIS - Local Everything Web Interactive Suite</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Tool-specific CSS -->
    <link rel="stylesheet" href="sections/cad/color-picker.css">
    <link rel="stylesheet" href="sections/cad/gradient-generator.css">
    <link rel="stylesheet" href="sections/cad/palette-generator.css">
</head>
<body>
    <div class="container">
        <aside class="sidebar">
            <h1>LEWIS</h1>
            <p>Offline Tools Suite</p>
            <nav>
                <button onclick="showSection('cad')" class="active">CAD: Color & Design</button>
                <button onclick="showSection('fam')">FAM: File & Media</button>
                <button onclick="showSection('aac')">AAC: Arts & Crafts</button>
                <button onclick="showSection('tac')">TAC: Text & Code</button>
                <button onclick="showSection('dau')">DAU: Developing & Utility</button>
            </nav>
        </aside>

        <main class="content">
            <!-- CAD Section -->
            <section id="cad" class="section">
                <!-- Gallery View -->
                <div id="cad-gallery">
                    <h2>Color & Design Tools</h2>
                    <div class="tools-grid">
                        <div class="tool-card gallery-card" data-tool="random-color">
                            <div class="icon">üé≤</div>
                            <h3>Random Color Generator</h3>
                        </div>
                        
                        <div class="tool-card gallery-card" data-tool="color-picker">
                            <div class="icon">üé®</div>
                            <h3>Advanced Color Picker</h3>
                        </div>
                        
                        <div class="tool-card gallery-card" data-tool="gradient">
                            <div class="icon">üåà</div>
                            <h3>Gradient Generator</h3>
                        </div>
                        
                        <div class="tool-card gallery-card" data-tool="palette">
                            <div class="icon">üñºÔ∏è</div>
                            <h3>Palette from Image</h3>
                        </div>
                    </div>
                </div>

                <!-- Individual Tool View -->
                <div id="cad-tool-view" class="hidden">
                    <button id="back-to-gallery" class="back-btn">‚Üê Back to Tools</button>
                    <h2 id="tool-title"></h2>
                    <div id="tool-content"></div>
                </div>
            </section>

            <!-- Other sections (empty for now) -->
            <section id="fam" class="section hidden">
                <h2>File & Media Tools</h2>
                <p>Coming soon...</p>
            </section>

            <section id="aac" class="section hidden">
                <h2>Arts & Crafts Tools</h2>
                <p>Coming soon...</p>
            </section>

            <section id="tac" class="section hidden">
                <h2>Text & Code Tools</h2>
                <p>Coming soon...</p>
            </section>

            <section id="dau" class="section hidden">
                <h2>Developing & Utility Tools</h2>
                <p>Coming soon...</p>
            </section>
        </main>
    </div>

    <!-- Hidden original tool containers (for cloning) -->
    <!-- Random Color Generator -->
    <div id="random-color-tool" class="hidden">
        <div class="tool-card">
            <h3>Random Color Generator</h3>
            <button id="random-color-btn">Generate</button>
            <div id="color-preview" class="color-box"></div>
            <input id="color-hex" type="text" readonly placeholder="HEX code">
            <button onclick="copyToClipboard('color-hex')">Copy HEX</button>
        </div>
    </div>

    <!-- Advanced Color Picker (remade) -->
    <div id="color-picker-tool" class="hidden">
        <div class="tool-card" id="color-picker-card">
            <h3>Advanced Color Picker</h3>
            
            <div class="picker-main">
                <div class="square-container">
                    <canvas id="sb-canvas" width="350" height="350"></canvas>
                    <div id="sb-pointer" class="pointer circle-pointer"></div>
                </div>
                
                <div class="hue-container">
                    <canvas id="hue-canvas" width="350" height="28"></canvas>
                    <div id="hue-pointer" class="pointer triangle-pointer"></div>
                </div>
                
                <div id="color-preview-big" class="color-preview-big"></div>
            </div>
            
            <div class="formats-row">
                <div class="format-item">
                    <span>HEX</span>
                    <div class="format-value" id="format-hex">#4287F5</div>
                    <button class="copy-btn" onclick="copyFormat('format-hex')">üìã</button>
                </div>
                <div class="format-item">
                    <span>RGB</span>
                    <div class="format-value" id="format-rgb">rgb(66, 135, 245)</div>
                    <button class="copy-btn" onclick="copyFormat('format-rgb')">üìã</button>
                </div>
                <div class="format-item">
                    <span>HSL</span>
                    <div class="format-value" id="format-hsl">hsl(217¬∞, 90%, 61%)</div>
                    <button class="copy-btn" onclick="copyFormat('format-hsl')">üìã</button>
                </div>
                <div class="format-item">
                    <span>HSV</span>
                    <div class="format-value" id="format-hsv">hsv(217¬∞, 73%, 96%)</div>
                    <button class="copy-btn" onclick="copyFormat('format-hsv')">üìã</button>
                </div>
                <div class="format-item">
                    <span>CMYK</span>
                    <div class="format-value" id="format-cmyk">cmyk(73%, 45%, 0%, 4%)</div>
                    <button class="copy-btn" onclick="copyFormat('format-cmyk')">üìã</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Gradient Generator -->
    <div id="gradient-tool" class="hidden">
        <div class="tool-card">
            <h3>Gradient Generator</h3>
            <div class="gradient-controls">
                <label>Type: <select id="gradient-type"><option value="linear">Linear</option><option value="radial">Radial</option></select></label>
                <label>Angle: <input type="range" id="gradient-angle" min="0" max="360" value="90"><span id="angle-value">90¬∞</span></label>
                <div class="preset-angles">
                    <button data-angle="0">‚Üí Right</button>
                    <button data-angle="45">‚Üò Diagonal</button>
                    <button data-angle="90">‚Üë Top</button>
                    <button data-angle="135">‚Üñ Diagonal</button>
                    <button data-angle="180">‚Üê Left</button>
                    <button data-angle="270">‚Üì Bottom</button>
                </div>
            </div>
            <div id="gradient-preview" class="gradient-preview"></div>
            <div class="stops-bar" id="stops-bar"></div>
            <div class="current-stop">
                <input type="color" id="stop-color-picker" value="#ff0000">
                <button id="add-stop">Add Stop</button>
                <button id="copy-css">Copy CSS</button>
            </div>
            <textarea id="gradient-css" readonly placeholder="CSS will appear here..."></textarea>
        </div>
    </div>

    <!-- Palette Generator -->
    <div id="palette-tool" class="hidden">
        <div class="tool-card">
            <h3>Palette Generator from Image</h3>
            <div class="image-upload-area" id="drop-area">
                <input type="file" id="image-input" accept="image/*" style="display:none;">
                <p>Drag & drop an image here or <span class="link" id="click-here">click to upload</span></p>
                <img id="uploaded-preview" class="uploaded-preview hidden" alt="Uploaded image preview">
            </div>
            <div id="palette-controls" class="hidden">
                <label>Number of colors: <input type="range" id="color-count" min="3" max="12" value="8"><span id="color-count-value">8</span></label>
                <button id="generate-palette">Generate Palette</button>
            </div>
            <div id="palette-result" class="palette-result hidden"></div>
        </div>
    </div>

    <!-- Core + Tool scripts -->
    <script src="app.js"></script>
    <script src="sections/cad/random-color.js"></script>
    <script src="sections/cad/color-picker.js"></script>
    <script src="sections/cad/gradient-generator.js"></script>
    <script src="sections/cad/palette-generator.js"></script>
</body>
</html>